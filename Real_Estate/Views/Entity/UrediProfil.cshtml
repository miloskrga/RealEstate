@using Real_Estate.Models.Enums

@model Real_Estate.Models.Korisnik
@{
    ViewData["Title"] = "Profil";
}

<script>
    function ShowInput() {
        var selected = $("#IdTipKor").val();
        if (selected == "Owner") {
            $("#AgencijaId").show();
            $("#AgencijaLab").show();

        }
        else if (selected == "Customer" || selected == "None") {
            $("#AgencijaId").hide();
            $("#AgencijaLab").hide();
        }
    }
</script>

<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="card mt-5">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-9">
                            <h3>Profil</h3>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    @{
                        if (ViewBag.Poruka != null)
                        {
                            <p>@ViewBag.Poruka</p>
                        }
                    }
                    <form method="post" asp-action="UrediProfil" asp-controller="Entity">
                        <div class="form-group mb-2">
                            <input class="form-control" type="hidden" asp-for="IdKorisnika" value="@Model.IdKorisnika" />
                            <label class="control-label">Ime</label>
                            <div>
                                <input class="form-control" type="text" asp-for="Ime"  placeholder="Ime" />
                                <span asp-validation-for="Ime" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Prezime</label>
                            <div>
                                <input class="form-control" type="text" asp-for="Prezime"  placeholder="Prezime" />
                                <span asp-validation-for="Prezime" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Username</label>
                            <div>
                                <input class="form-control" type="text" asp-for="Username"  placeholder="Username" />
                                <span asp-validation-for="Username" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Email</label>
                            <div>
                                <input class="form-control" type="email" asp-for="Email"  placeholder="Email" />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Password</label>
                            <div>
                                <input class="form-control" type="password" asp-for="Password" name="Password" value="@Model.Password" placeholder="Password" />
                                <span asp-validation-for="Password" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Telefon</label>
                            <div>
                                <input class="form-control" type="text" asp-for="Telefon"  placeholder="Telefon" />
                                <span asp-validation-for="Telefon" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Datum Rodjenja</label>
                            <div>
                                <input class="form-control" type="date" asp-for="DatumRodjenja"  placeholder="DatumRodjenja" />
                                <span asp-validation-for="DatumRodjenja" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label">Tip Korisnika</label>
                            <div>
                                <select class="form-select" name="IdTipKorisnika" id="IdTipKor" onchange="ShowInput()">
                                    <option value="None">Izaberi Tip Korisnika</option>
                                    @if (Model.IdTipKorisnika == TipKorisnika.Owner)
                                    {
                                        <option value="Owner" selected>Oglasivac</option>
                                        <option value="Customer">Kupac</option>
                                    }
                                    else if (Model.IdTipKorisnika == TipKorisnika.Customer)
                                    {
                                        <option value="Owner">Oglasivac</option>
                                        <option value="Customer" selected>Kupac</option>
                                    }
                                </select>
                                <span asp-validation-for="IdTipKorisnika" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group mb-2">
                            <label class="control-label" style="display:none;" id="AgencijaLab">Agencija</label>
                            <div>
                                <input class="form-control" type="text" id="AgencijaId" style="display:none;" value="@Model.IdAgencije" name="IdAgencije" placeholder="IdAgencije" />
                                @*                                <span asp-validation-for="IdAgencije" class="text-danger"></span>
                                *@
                            </div>
                        </div>
                        <div class="form-group ">
                            <label class="control-label">Naziv Grada</label>
                            <div>
                                <input class="form-control" type="text" asp-for="NazivGrada"  placeholder="NazivGrada" />
                                <span asp-validation-for="NazivGrada" class="text-danger"></span>
                            </div>
                        </div>
                        <!-- Submit button -->
                        <div class="form-group text-center ">
                            <br />
                            <input type="submit" class="btn btn-primary btn-lg form-control" name="Edit" value="Sacuvaj" />
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>